[workspace]
name = "nebi-demo"
channels = ["conda-forge", "pytorch"]
platforms = ["osx-arm64", "linux-64"]

[dependencies]
python = ">=3.11,<3.13"
pip = "*"
ffmpeg = ">=7"
jq = ">=1.7"

[pypi-dependencies]
kokoro = ">=0.8"
soundfile = ">=0.13"

[tasks]
audio = "python scripts/generate_audio.py"
record = "npx tsx src/record.ts"
convert = "bash scripts/convert.sh"
demo = { cmd = "npx tsx src/record.ts && bash scripts/convert.sh", depends-on = ["audio"] }
